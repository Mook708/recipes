<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>媽咪的健康美味廚房</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="images/favicon.png" type="image/png">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#8B4513">
    <link rel="apple-touch-icon" href="images/icon-192.png">

    <script>
        // 註冊 Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('PWA 註冊成功！'))
                    .catch(err => console.log('PWA 註冊失敗：', err));
            });
        }
    </script>
</head>
<body>

    <header>
        <h1>媽咪的健康美味廚房</h1>
    </header>

    <main id="app">
        <!-- 內容將由 JavaScript 動態生成 -->
    </main>

    <footer>
        <p>我的媽咪煮飯最好吃</p>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyAh9qJ1-kIvCVSDH9aLjnjq8_6jeeez0ms",
        authDomain: "mom-recipes-1969e.firebaseapp.com",
        projectId: "mom-recipes-1969e",
        storageBucket: "mom-recipes-1969e.firebasestorage.app",
        messagingSenderId: "576022571667",
        appId: "1:576022571667:web:05969fa843c47312bffb66"
      };
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();
      db.enablePersistence()
        .catch((err) => {
            if (err.code == 'failed-precondition') {
                console.log('離線功能失敗：多個分頁同時開啟中');
            } else if (err.code == 'unimplemented') {
                console.log('離線功能失敗：瀏覽器不支援');
            }
        });
    </script>

    <script src="script.js"></script>
</body>
</html>